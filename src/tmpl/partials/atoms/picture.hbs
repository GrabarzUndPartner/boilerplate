---
docs:
  refs:
    title:
      type: "string"
      required: true
    class:
      type: "string"
      required: false
      values: ["align-left-[default,xs,sm,md,lg]", "align-right-[default,xs,sm,md,lg]"]
    sources:
      type: "array"
      required: true
      item:
        type: {type: "string", required: true, values: ["lg", "md", "sm", "xs", "default"]}
        absolute: {type: "boolean", required: false, values: [true, false]}
        srcset: {type: "string", required: true}
    sizes:
      type: "map"
      required: false
    fallback:
      type: "string"
      required: false
data:
  title: "sample image"
  class: #css-class
  sources:
      - {type: 'xl', absolute: true, srcset: '//dummyimage.com/1920x1080/ff0000/fff'}
      - {type: 'lg', absolute: true, srcset: '//dummyimage.com/1920x1080/ff0000/fff'}
      - {type: 'md', absolute: true, srcset: '//dummyimage.com/1199x674/00ff00/fff'}
      - {type: 'sm', absolute: true, srcset: '//dummyimage.com/991x557/0000ff/fff'}
      - {type: 'default', absolute: true, srcset: '//dummyimage.com/479x269/00ffff/fff'}
  sizes:
      xl: '(min-width: 1200px)'
      lg: '(min-width: 992px)'
      md: '(min-width: 768px)'
      sm: '(min-width: 576px)'
  fallback:
      img: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
  focal-point:
    x: 0.5
    y: 1
---
<picture class="partial{{#if focal-point}} picture--focal-point{{/if}}{{#if class}} {{class}}{{/if}}" data-partial="atoms/picture">
  <!--[if IE 9]><video><![endif]-->
  {{#each sources}}
    <source class="{{type}}"{{#if (lookup ../sizes type)}} media="{{lookup ../sizes type}}"{{/if}}{{#if src}} src="{{#unless absolute}}{{{../relativeToRoot}}}{{/unless}}{{src}}"{{/if}}{{#if srcset}} srcset="{{#unless absolute}}{{{../relativeToRoot}}}{{/unless}}{{srcset}}"{{/if}}/>
  {{/each}}
  <!--[if IE 9]></video><![endif]-->
  <img src="{{#unless sources.0.absolute}}{{{relativeToRoot}}}{{/unless}}{{sources.0.srcset}}" alt="{{title}}" {{#if focal-point}} style="object-position: {{multiply focal-point.x 100}}% {{multiply focal-point.y 100}}%;" {{/if}}
      loading="{{fallback loading "lazy"}}"/>
</picture>
